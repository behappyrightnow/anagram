var PasteProcessor = (function () {
    function PasteProcessor(event) {
        this.data = this.dataFrom(event);
    }
    PasteProcessor.prototype.process = function () {
        this.rows = new Array();
        this.extractRowsFrom(this.data);
    };

    PasteProcessor.prototype.dataFrom = function (event) {
        var data;
        if (event.clipboardData && event.clipboardData.getData) {
            data = event.clipboardData.getData('text/plain');
        } else if (event.originalEvent && event.originalEvent.clipboardData && event.originalEvent.clipboardData.getData) {
            data = event.originalEvent.clipboardData.getData('text/plain');
        } else if (window.clipboardData) {
            data = window.clipboardData.getData("Text");
        }
        return data;
    };

    PasteProcessor.prototype.extractRowsFrom = function (pastedData) {
        var lines = pastedData.split("\n");
        lines = this.processForMacChrome(lines);
        for (var i = 0; i < lines.length; i++) {
            var line = lines[i];
            var cells = line.split("\t");
            for (var j = 0; j < cells.length; j++) {
                cells[j] = cells[j].trim();
            }
            this.rows.push(cells);
        }
    };

    PasteProcessor.prototype.processForMacChrome = function (lines) {
        var answer = lines;
        if (lines.length == 1) {
            lines = lines[0].split("\r");
            answer = lines;
        }
        return answer;
    };
    return PasteProcessor;
})();
//# sourceMappingURL=pasteProcessor.js.map
